webpackJsonp([2,0],[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=i(6),a=n(s),o=i(12),l=n(o),r=i(39),c=n(r),d=i(5),u=n(d);a.default.use(l.default);var h={template:"<div>foo</div>"},m={template:"<div>bar</div>"},f=[{path:"/",component:u.default},{path:"/foo",component:h},{path:"/bar",component:m},{path:"*",component:u.default}],p=new l.default({routes:f,hashbang:!1,history:!0,mode:"history"});new a.default({router:p,el:"#app",template:"<App/>",components:{App:c.default},data:{singleItem:{location:{}},items:null,locationImage:""}})},,,,,function(t,e,i){var n,s;i(21),n=i(15);var a=i(43);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=a.render,s.staticRenderFns=a.staticRenderFns,s._scopeId="data-v-27f2461c",t.exports=n},,,,function(t,e,i){var n,s;i(22),n=i(14);var a=i(44);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=a.render,s.staticRenderFns=a.staticRenderFns,s._scopeId="data-v-6940ed44",t.exports=n},function(t,e,i){var n,s;i(19),n=i(16);var a=i(41);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=a.render,s.staticRenderFns=a.staticRenderFns,s._scopeId="data-v-17afd067",t.exports=n},,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=(n(s),i(6)),o=n(a),l=i(12),r=n(l),c=i(11),d=n(c),u=i(37),h=n(u),m=i(9),f=n(m),p=i(5),_=n(p),g=i(10),v=n(g);i(24),o.default.use(r.default,d.default,h.default),e.default={name:"app",components:{Hello:f.default,List:_.default,ListPlaceholder:v.default},beforeMount:function(){console.log("initialmount",this.$route.path)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=n(s),o=i(18),l=n(o),r=i(11),c=(n(r),i(9)),d=n(c),u=i(40),h=n(u),m=i(10),f=n(m),p=a.default,g="https://www.paulbremer.nl/labs/floatlist/api/api2.php";e.default={name:"list",components:{Hello:d.default,Search:h.default,ListPlaceholder:f.default},data:function(){return{isModalActive:!1,isLoading:!1,singleItem:{location:{}},items:null,sortKey:"",searchKey:""}},created:function(){if(this.isLoading=!0,this.fetchData(),"/"!==this.$route.path){var t=this.$route.path.slice(window.location.href.indexOf("?")+2).split("/"),e=t[1],i=t[0];this.openNewModal(e,i),this.singleItem={name:e,location:{country:i}}}},methods:{fetchData:function(){var t=this;p.get(g,function(e){t.items=e,t.isLoading=!1,console.log(e)},"json").done(function(){for(var e=0;e<t.items.length;e++){var i=t.items[e].location.countrycode;i&&(t.items[e].location.emoji=l.default.countryCode(i).emoji,t.items[e].distance=0)}if("/"!==t.$route.path){var n=t.$route.path.slice(window.location.href.indexOf("?")+2).split("/"),s=n[1],a=n[0];t.getSingleItem(s,a)}})},openNewModal:function(t,e){this.isModalActive=!0,console.log(t,e),history.pushState({},null,e+"/"+t)},openModal:function(t){var e=this,i=t.currentTarget,n=(i.getAttribute("data-id"),i.getAttribute("data-name")),s=i.getAttribute("data-country");this.isModalActive=!0,e.getSingleItem(n,s),history.pushState({},null,s+"/"+n)},closeModal:function(t){this.isModalActive=!1,this.singleItem={location:{}},history.pushState({},null,"/")},getSingleItem:function(t,e){console.log("getSingleItem",t,e);for(var i=0;i<this.items.length;i++)this.items[i].name.toLowerCase().replace(/\s+/g,"-")===t&&(this.singleItem=this.items[i],this.singleItem.location=this.items[i].location)},sortBy:function(t){},orderedByName:function(){return _.orderBy(this.items,"distance")}},computed:{orderedItems:function(){}},beforeMount:function(){},mounted:function(){}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"listplaceholder"}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n,s){var a=Math.PI*(t/180),o=Math.PI*(i/180),l=e-n,r=Math.PI*(l/180),c=Math.sin(a)*Math.sin(o)+Math.cos(a)*Math.cos(o)*Math.cos(r);return c=Math.acos(c),c*=180/Math.PI,c=60*c*1.1515,"K"===s&&(c*=2),"N"===s&&(c*=.8684),c}Object.defineProperty(e,"__esModule",{value:!0});var a=i(7),o=n(a),l=i(2),r=n(l),c=i(38),d=i(5);n(d);(0,c.load)("AIzaSyADaVHH2-vDrd5gv_jeVuAO4PICp3DY9cE","3.24",["maps","places"]);r.default;e.default={name:"search",props:["items"],data:function(){return{search:""}},watch:{search:function(t){var e=this;e.getLatLong(this.search)}},methods:{getLatLong:o.default.debounce(function(t){var e=this,i=new google.maps.Geocoder,n="",s="";i.geocode({address:t},function(i,a){"OK"===a?(n=i[0].geometry.location.lat(),s=i[0].geometry.location.lng(),e.getDistance(t,n,s)):console.log("Geocode was not successful for the following reason: "+a)})},800),getDistance:function(t,e,i){var n=this,a="";console.log("getDistance",t,e,i);for(var l=0;l<n.items.length;l++){var r=n.items[l].location.latitude,c=n.items[l].location.longitude;c&&c?(a=s(e,i,r,c,"K"),0===a&&(a=1),n.items[l].distance=Math.round(a),n.items[l].email+="  "):(n.items[l].distance="9999",n.items[l].email+="  ")}return o.default.orderBy(this.items,"distance")}}}},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,function(t,e,i){var n,s;i(23),n=i(13);var a=i(45);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=a.render,s.staticRenderFns=a.staticRenderFns,t.exports=n},function(t,e,i){var n,s;i(20),n=i(17);var a=i(42);s=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(s=n=n.default),"function"==typeof s&&(s=s.options),s.render=a.render,s.staticRenderFns=a.staticRenderFns,s._scopeId="data-v-1958f6b4",t.exports=n},function(module,exports){module.exports={render:function(){with(this)return _m(0)},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"grid grid-placeholder"},[_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})," ",_h("div",{staticClass:"item"})])}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"search"},[_h("input",{directives:[{name:"model",rawName:"v-model",value:search,expression:"search"}],ref:"List",domProps:{value:_s(search)},on:{input:function(t){t.target.composing||(search=t.target.value)}}})," ",_h("p",["search: "+_s(search)])])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"list grid"},[_h("div",{attrs:{id:"floatList"}},[_h("search",{attrs:{items:items}})," ",_h("main",{staticClass:"site-content",attrs:{role:"main"},on:{keyup:function(t){27===t.keyCode&&closeModal(t)}}},[isLoading?_h("ListPlaceholder"):_e()," ",_h("div",{staticClass:"grid"},[_l(orderedByName(),function(t){return _h("div",{staticClass:"item",attrs:{transition:"item","track-by":"item.id"}},[t.image?_h("div",{staticClass:"item-image",style:{backgroundImage:"url("+t.image+")"}}):_e()," ",_h("a",{staticClass:"item-link",attrs:{href:"/","data-id":t.id,"data-name":t.name.toLowerCase().replace(/\s+/g,"-"),"data-country":t.location.country.toLowerCase().replace(/\s+/g,"-")},on:{click:function(t){t.preventDefault(),openModal(t)}}},[_h("span",{staticClass:"item-name"},[_s(t.name)])," ",_h("span",{staticClass:"hidden item-email"},[_s(t.email)])," ",t.distance&&t.distance<9999?_h("span",{staticClass:"item-distance"},["📍 "+_s(t.distance)+"km"]):_e()," ",t.location.city?_h("span",{staticClass:"item-city"},[_s(t.location.city)+" "]):_e()," ",t.location.emoji?_h("span",{staticClass:"item-country-emoji"},[_s(t.location.emoji)]):_e()])])})])])," ",_h("div",{staticClass:"modal",class:{modalOpen:isModalActive},on:{keyup:function(t){27===t.keyCode&&closeModal(t)}}},[_h("div",{staticClass:"modal-wrapper"},[_h("div",{staticClass:"modal-header"},[_h("a",{staticClass:"close",attrs:{href:"/"},on:{click:function(t){t.preventDefault(),closeModal(t)}}},["« all items"])," ",_h("h2",[_s(singleItem.name)])])," ",_h("div",{staticClass:"modal-content"},[_h("div",{staticClass:"modal-image",style:{backgroundImage:"url("+singleItem.image+")"}})," ",_h("div",{staticClass:"modal-info"},[singleItem.phone?_h("span",[_s(singleItem.phone),_m(0)]):_e()," ",singleItem.website?_h("span",[_s(singleItem.website),_m(1)]):_e()," ",singleItem.email?_h("span",[_s(singleItem.email),_m(2)]):_e()," ",singleItem.logo?_h("span",[_h("img",{attrs:{src:singleItem.logo,height:"100"}}),_m(3)]):_e()," ",singleItem.location.address_name?_h("span",[_s(singleItem.location.address_name)+" "+_s(singleItem.location.address_number),_m(4)]):_e()," ",singleItem.location.postalcode?_h("span",[_s(singleItem.location.postalcode),_m(5)]):_e()," ",singleItem.location.city?_h("span",[_s(singleItem.location.city),_m(6)]):_e()," ",singleItem.location.country?_h("span",[_s(singleItem.location.country),_m(7)]):_e()," ",singleItem.location.address_name?_h("span",[_h("img",{attrs:{src:"https://maps.googleapis.com/maps/api/staticmap?center="+singleItem.location.address_name+","+singleItem.location.address_number+","+singleItem.location.postalcode+","+singleItem.location.city+"&zoom=13&size=500x200&markers=color:red%7C"+singleItem.location.address_name+","+singleItem.location.address_number+","+singleItem.location.postalcode+","+singleItem.location.city+"&style=feature:road%7Celement:geometry%7Clightness:50%7Cvisibility:simplified&style=feature:road%7Celement:labels%7Cvisibility:off&key=AIzaSyADaVHH2-vDrd5gv_jeVuAO4PICp3DY9cE",alt:singleItem.name}}),_m(8)]):_e()])])])])])])},staticRenderFns:[function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")},function(){with(this)return _h("br")}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"hello"},["\n  "+_s(msg)+"\n"])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_m(0)," ",_h("nav",[_h("router-link",{attrs:{to:"/",exact:""}},["FloatList"])," ",_h("router-link",{attrs:{to:"/foo"}},["About FloatList"])," ",_h("router-link",{attrs:{to:"/bar"}},["Contact"])])," ",_h("keep-alive",[_h("router-view")])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"wrapper"},[_h("h1",[_h("a",{attrs:{href:"/"}},["FloatList"])])])}]}}]);
//# sourceMappingURL=app.97e59f9e9a87dc5124b0.js.map